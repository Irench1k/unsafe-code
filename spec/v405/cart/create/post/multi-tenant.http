# @import ../_imports.http

# POST /cart multi-tenant guardrails (v405+)
# Restaurant ID validation with JSON body

### Create cart requires restaurant_id - Basic Auth
# @tag cart, r04, v405
POST /cart
Authorization: {{auth.basic("patrick")}}
Content-Type: application/json

{}

?? js $(response).isError() == true

### Create cart requires restaurant_id - Cookie Auth
# @tag cart, r04, v405
POST /cart
Cookie: {{auth.login("patrick")}}
Content-Type: application/json

{}

?? js $(response).isError() == true

### Create cart requires valid restaurant_id
# @tag cart, r04, v405
POST /cart
Authorization: {{auth.basic("patrick")}}
Content-Type: application/json

{"restaurant_id": 999}

?? js $(response).isError() == true
