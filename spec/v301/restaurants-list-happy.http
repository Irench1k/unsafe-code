# @import ../common.http

# GET /restaurants happy path
# Tests public restaurant listing

# =============================================================================
# PUBLIC ACCESS: Restaurant listing
# =============================================================================

### Restaurants list is publicly accessible with all expected data
{{
  await platform.reset();
}}
# @tag ci, r03, vulnerable
GET /restaurants

?? js $(response).isOk() == true
?? js $(response).count() >= 2
?? js $(response).body().every(r => r.id && r.name && r.description !== undefined) == true
?? js $(response).body().some(r => r.name === "Krusty Krab") == true
?? js $(response).body().some(r => r.name === "Chum Bucket") == true
