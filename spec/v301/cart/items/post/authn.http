# @import ../_imports.http
# @import _fixtures.http

# POST /cart/{id}/items authentication guardrails
# Adding items requires valid authentication

### Add item requires authentication
# @forceRef patrick_cart
# @tag authn, cart, r03, v301
POST /cart/{{cart_id}}/items
Content-Type: application/json

{ "item_id": "{{item_id}}" }

?? js $(response).isError() == true

### Add item requires valid credentials
# @ref patrick_cart
# @tag authn, cart, r03, v301
POST /cart/{{cart_id}}/items
Authorization: {{auth.basic("patrick", "wrongpassword")}}
Content-Type: application/json

{ "item_id": "{{item_id}}" }

?? js $(response).isError() == true
