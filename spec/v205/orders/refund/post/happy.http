# @import ../_imports.http
# @import ../../../cart/checkout/post/happy.http

# POST /orders/{id}/refund happy path
# Request refund for an order
#
# Exports (for @forceRef by other tests):
#   refund_created - Plankton's refund request

### Request refund with Basic Auth
# @name refund_created
# @forceRef checkout_completed
# @tag happy, orders, r02, v205
POST /orders/{{order_id}}/refund
Authorization: {{auth.basic("plankton")}}
Content-Type: application/x-www-form-urlencoded

reason=Order was late

?? js $(response).status() == 200
?? js $(response).hasFields("refund_id", "order_id", "amount", "status") == true
