@base = http://localhost:8000/api/v302

### Login as Plankton
POST {{base}}/auth/login
Content-Type: application/json

{
    "email": "plankton@chum-bucket.sea",
    "password": "i_love_my_wife"
}

### Check Plankton's balance: he has $100.00
GET {{base}}/account/info

# {
#   "balance": "100.00",
#   "email": "plankton@chum-bucket.sea",
#   "name": "Sheldon Plankton",
#   "orders": 1
# }

### Plankton creates a cart #1 in Krusty Krab and adds expensive items to it
# NOTE: New argument, restaurant_id is **required**!
# @name cartA
POST {{base}}/cart?restaurant_id=1

### Add "Krusty Krab Complect" for $20.50
POST {{base}}/cart/{{cartA.response.body.cart_id}}/items
Content-Type: application/json

{
  "item_id": "4"
}

### Add "Ultimate Krusty Krab" for $50.00
POST {{base}}/cart/{{cartA.response.body.cart_id}}/items
Content-Type: application/json

{
  "item_id": "5"
}

#### Without checking out cart A (worth $70.50), Plankton creates a new cart B
# @name cartB
POST {{base}}/cart?restaurant_id=1

### Add a single "Side of Fries" for $1.00
POST {{base}}/cart/{{cartB.response.body.cart_id}}/items
Content-Type: application/json

{
  "item_id": "2"
}

### Plankton sends a confusing checkout request, with cart B still in session, but cart A in /<cart_id>/
POST {{base}}/cart/{{cartA.response.body.cart_id}}/checkout
Content-Type: application/json

{
  "tip": "1",
  "delivery_address": "Chum Bucket Restaurant"
}

### Check Plankton's balance: he only paid $7 ($1 + $5 delivery + $1 tip)
GET {{base}}/account/info

# {
#   "balance": "93.00",
#   "email": "plankton@chum-bucket.sea",
#   "name": "Sheldon Plankton",
#   "orders": 2
# }

### Check Plankton's orders: a new order of $70.50 was created
GET {{base}}/orders

#  {
#    "created_at": "2025-11-17T16:23:45.613768",
#    "delivery_address": "Chum Bucket Restaurant",
#    "delivery_fee": "5.00",
#    "items": [
#      {
#        "item_id": 4,
#        "name": "Krusty Krab Complect",
#        "price": "20.50"
#      },
#      {
#        "item_id": 5,
#        "name": "Ultimate Krusty Krab",
#        "price": "50.00"
#      }
#    ],
#    "order_id": 3,
#    "restaurant_id": 1,
#    "tip": "1.00",
#    "total": "7.00",
#    "user_id": 4
#  }
