---
title: Host and Proxy Trust Misconfiguration
summary: |
  Configuration enables proxy header trust globally or without IP restrictions, allowing attackers to inject forwarding headers.
description: |
  ## Overview
  This is a **configuration mistake**: enabling `ProxyFix` globally, setting it without IP allowlists, or leaving `trusted_hosts` wide open makes the framework trust forwarding headers from any source. The misconfiguration **enables** the code-level trust boundary errors (like reading `request.host` for security decisions) by telling the framework to accept attacker-controlled headers as if they came from infrastructure. The result: password reset links pointing to malicious domains, CSRF tokens scoped to attacker hosts, incorrect rate limiting.

  **Contrast with [Trust Boundary > Header Authority](../../trust-boundary-errors/header-authority/)**: That category covers the **code pattern** of reading and trusting headers. This category covers the **config mistakes** that make those headers attacker-controllable instead of infrastructure-controlled.

  **Practice tips:**
  - Configure proxy trust middleware with explicit IP allowlists for each environment.
  - Prefer application-level redirects built from config rather than dynamic host headers.
  - Monitor for unusual Host header values to spot probing early.
category: unsafe-defaults-and-misconfiguration.host-and-proxy-trust
namespace: flask-unsafe-defaults-host-proxy
toc: true
outline: []
